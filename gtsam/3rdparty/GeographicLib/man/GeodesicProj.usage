int usage(int retval, bool brief) {
  if (brief)
    ( retval ? std::cerr : std::cout ) << "Usage:\n"
"    GeodesicProj ( -z | -c | -g ) lat0 lon0 [ -r ] [ -e a f ] [\n"
"    --comment-delimiter commentdelim ] [ --version | -h | --help ] [\n"
"    --input-file infile | --input-string instring ] [ --line-separator\n"
"    linesep ] [ --output-file outfile ]\n"
"\n"
"For full documentation type:\n"
"    GeodesicProj --help\n"
"or visit:\n"
"    http://geographiclib.sf.net/1.35/GeodesicProj.1.html\n";
  else
    ( retval ? std::cerr : std::cout ) << "Man page:\n"
"NAME\n"
"       GeodesicProj -- perform projections based on geodesics\n"
"\n"
"SYNOPSIS\n"
"       GeodesicProj ( -z | -c | -g ) lat0 lon0 [ -r ] [ -e a f ] [\n"
"       --comment-delimiter commentdelim ] [ --version | -h | --help ] [\n"
"       --input-file infile | --input-string instring ] [ --line-separator\n"
"       linesep ] [ --output-file outfile ]\n"
"\n"
"DESCRIPTION\n"
"       Perform projections based on geodesics.  Convert geodetic coordinates\n"
"       to either azimuthal equidistant, Cassini-Soldner, or gnomonic\n"
"       coordinates.  The center of the projection (lat0, lon0) is specified by\n"
"       either the -c option (for Cassini-Soldner), the -z option (for\n"
"       azimuthal equidistant), or the -g option (for gnomonic).  At least one\n"
"       of these options must be given (the last one given is used).\n"
"\n"
"       Geodetic coordinates are provided on standard input as a set of lines\n"
"       containing (blank separated) latitude and longitude (decimal degrees or\n"
"       degrees, minutes, seconds).  For each set of geodetic coordinates, the\n"
"       corresponding projected coordinates x, y (meters) are printed on\n"
"       standard output together with the azimuth azi (degrees) and reciprocal\n"
"       scale rk.  For Cassini-Soldner, azi is the bearing of the easting\n"
"       direction and the scale in the easting direction is 1 and the scale in\n"
"       the northing direction is 1/rk.  For azimuthal equidistant and\n"
"       gnomonic, azi is the bearing of the radial direction and the scale in\n"
"       the azimuthal direction is 1/rk.  For azimuthal equidistant and\n"
"       gnomonic, the scales in the radial direction are 1 and 1/rk^2,\n"
"       respectively.\n"
"\n"
"OPTIONS\n"
"       -z  use the azimuthal equidistant projection centered at latitude =\n"
"           lat0, longitude = lon0.\n"
"\n"
"       -c  use the Cassini-Soldner projection centered at latitude = lat0,\n"
"           longitude = lon0.\n"
"\n"
"       -g  use the ellipsoidal gnomonic projection centered at latitude =\n"
"           lat0, longitude = lon0.\n"
"\n"
"       -r  perform the reverse projection.  x and y are given on standard\n"
"           input and each line of standard output gives latitude, longitude,\n"
"           azi, and rk.\n"
"\n"
"       -e  specify the ellipsoid via a f; the equatorial radius is a and the\n"
"           flattening is f.  Setting f = 0 results in a sphere.  Specify f < 0\n"
"           for a prolate ellipsoid.  A simple fraction, e.g., 1/297, is\n"
"           allowed for f.  (Also, if f > 1, the flattening is set to 1/f.)  By\n"
"           default, the WGS84 ellipsoid is used, a = 6378137 m, f =\n"
"           1/298.257223563.\n"
"\n"
"       --comment-delimiter\n"
"           set the comment delimiter to commentdelim (e.g., \"#\" or \"//\").  If\n"
"           set, the input lines will be scanned for this delimiter and, if\n"
"           found, the delimiter and the rest of the line will be removed prior\n"
"           to processing and subsequently appended to the output line\n"
"           (separated by a space).\n"
"\n"
"       --version\n"
"           print version and exit.\n"
"\n"
"       -h  print usage and exit.\n"
"\n"
"       --help\n"
"           print full documentation and exit.\n"
"\n"
"       --input-file\n"
"           read input from the file infile instead of from standard input; a\n"
"           file name of \"-\" stands for standard input.\n"
"\n"
"       --input-string\n"
"           read input from the string instring instead of from standard input.\n"
"           All occurrences of the line separator character (default is a\n"
"           semicolon) in instring are converted to newlines before the reading\n"
"           begins.\n"
"\n"
"       --line-separator\n"
"           set the line separator character to linesep.  By default this is a\n"
"           semicolon.\n"
"\n"
"       --output-file\n"
"           write output to the file outfile instead of to standard output; a\n"
"           file name of \"-\" stands for standard output.\n"
"\n"
"EXAMPLES\n"
"          echo 48.648 -2.007 | GeodesicProj -c 48.836 2.337\n"
"          => -319919 -11791 86.7 0.999\n"
"          echo -319919 -11791 | GeodesicProj -c 48.836 2.337 -r\n"
"          => 48.648 -2.007 86.7 0.999\n"
"\n"
"ERRORS\n"
"       An illegal line of input will print an error message to standard output\n"
"       beginning with \"ERROR:\" and causes GeodesicProj to return an exit code\n"
"       of 1.  However, an error does not cause GeodesicProj to terminate;\n"
"       following lines will be converted.\n"
"\n"
"SEE ALSO\n"
"       The ellipsoidal gnomonic projection is derived in Section 8 of C. F. F.\n"
"       Karney, Algorithms for geodesics, J. Geodesy 87, 43-55 (2013); DOI\n"
"       http://dx.doi.org/10.1007/s00190-012-0578-z\n"
"       <http://dx.doi.org/10.1007/s00190-012-0578-z>; addenda:\n"
"       http://geographiclib.sf.net/geod-addenda.html\n"
"       <http://geographiclib.sf.net/geod-addenda.html>.\n"
"\n"
"AUTHOR\n"
"       GeodesicProj was written by Charles Karney.\n"
"\n"
"HISTORY\n"
"       GeodesicProj was added to GeographicLib, <http://geographiclib.sf.net>,\n"
"       in 2009-08.  Prior to version 1.9 it was called EquidistantTest.\n"
;
  return retval;
}
